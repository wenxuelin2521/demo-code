<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            padding: 0;
            margin: 0;
        }

        html,
        body {
            width: 100%;
            height: 100%;
        }
    </style>
    <script src="./echart.min.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script> -->
</head>

<body>
    <div class="topo" id="topo" style="width:100% ; height: 100%;"></div>
</body>

</html>

<script>

    const pic1 = "data:image/png;base64,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"
    const pic2 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAA8CAYAAADha7EVAAAEtUlEQVR4nO3cTWgcZRzH8e8zs2/ZZDdpmhctVg01iMVTrUIiVFDpQdCreNKLINqL+IJID948eFEQPRRBRA9aseALeBHEQqWGNlYkDVWx2jSS2M3bJtlNJjOPh7EhafMyOzuTJzv7/1yy2d1nnifkx/M8M88zoy7NeJoE+e7vZdNNEDWwTDdANDcJoDBKAiiMkgAKoySAwigJoDBKAiiMkgAKoySAwigJoDBKAiiMStVT2K5MkR0bBqXQll1/a7RGeQ7O3rtwOvvqP57Y9UIHMHNtlOL5D0hN/gO2AhVBZ6o1aBcvW6R86CkqfUfqP6bY1UIFUK0sUfjpY6z5Mku33YtOt4LnblEA2GjPzY3v2xbKWSY1O07h3Cc4e/pY6dgfpomiQYQKYHr6Mvbiv7jFHuYeeBY3vzeyBilvhfYf3iU3fpbs1fMSwIQLNW4qdxmlXXQmH2n4ALSVwu3oQnkeSnuRHlvsPqF6QK1s/6RDu6A9UrNj9H7xHBq1feGNhmMFKq8pHThO9fAgynLQykKrCE5sxK5W11kwAMrCXiiRv/htHccAilBOP0n18GDdTRKNo/4AAjqV5Xrnt3DwCbxcEQIPn4rW0a+xmMVrLdz4kUi48AHc5E6S8adPgaotObe/cx/Z8nDopojGFf1KSI3h27JMom6XEhsJ3wNukpniuY9YKe4LPgQrhb1Yuvl9CV9TiGQOiPZWA9n72TM1lsXvhwvcfDFb5oCJF34IXttDKRW+x1JrfnprXm+2eiISpb4eUPsXpZ2ufi6/8lt9LVHgtt7iv95iVU8kS31zQAVoD53K4XQfiKxROGvqEIkWwVlwwJRstVlBNK1o5oDbSJd+p33oRPAC1zMtc8DE25Ed0Xu+f4u2C5/vRFWiwYQPYA3zs/azJ3CLt8Zah2hMsfeAbb+cBAi3xV6G4MSLfQ7Y/c2r/tetaK55i2SJdQhuHfmS1PRf/te9lfXFnUXUylLo6kUyxNotdX/10urr9jPv0/bzSSy3CoCXLXDl2Bk02TibIHa52ALYcfpt0qU/Vn+3F0vrNh1MP/QyXqYtrupFg4h8P6D/mSZVnmDh4OP+tvpUhvTERbITv4LWeJk2SkffCF21SI7It2P5nymuPfbmurfaf3yPnlPHAJh69HV0Or95eTn7bRo79mgOqzoHgE63MDvw/NZflut/TWPnng3z/5MTph5+DS9bDFgmxvaIXWFH1oIB7PlJAGYHXghdpUieHVmKA8hOjLB491HcfGfwQjIXTLx4zoI3ULlzkErfg6GrE8kULoBr72IL+FSsqUeO11IBCh3uDjvRUEINwTqVQ2l/g6m205E2CPBD7bkg68eJF+g/nL06TMufp/FaOtBYWMtl3LYe8FyKQx+iLdvvsbai2X7eqEErhT03jtPZR2ZiBGuhhMLDqsxQ3X8/1TsGgv1loiEECmCmdInChU9XH5Wm7QxuroNUZYbM5Oj24auRmy2iM3kyEyPkxob8hs5cQWdaJIAJEyiA1X2HmD7yotG1W2tpnuXee4zVL+IRKIBOVz9OV3/cbRFNSJ6SL4ySAAqjJIDCKAmgMEoCKIySAAqjJIDCKAmgMEoCKIySAAqjJIDCqP8AW5I3mWQNt9UAAAAASUVORK5CYII=";
    const pic3 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAA8CAYAAADha7EVAAAFeklEQVR4nO3cf2hVZRzH8fdzzv217W7OTTGnU9mmRSk6TUJEIyj68dfILMokDVJL/4pIKIggIvpDKgjKhDRJSCrSCsLAIhKxaOUsy8ZQt2zO7bZf9+7+Or/6Y9vNqW33x4HD3f2+YNs99z57zgP3w/M855znHNU+aDtMI8e70l43QeRA87oBorRJAIWnJIDCUxJA4SkJoPCUBFB4SgIoPCUBFJ6SAApPSQCFpySAwlO+fP6p9dQJjh4+RDKRKLgBy1etZtNTOwuuRxQnletihONffc7Tj7a42oj7Wzby1oHDrtQlixGKS84BvGflEjrPd6DrOqGychwnv8U0mqZhGGlSySQA3/56gXn1C/Oq62oSwOKS8xA8PuyuWL2GfR9/OSGASqms69E0jRPffM2uzQ8B0N/X60oARXHJOYChsrLM33BlVUE7X7Zydeb1oqabC6pLFKe8DkIATMOYsH1SwZWIQleAA1zdGY5vO6D5wRcC3Q+tJ//MFPnwTA8Na2YQjpisnaPn2yxRZPIO4Lj4SIwdT27mdOsP2IYJkwzDjmUSrJ5N8+59LH5sPe3JUOaztohJdzfEL0sAS0nBAey93M2pY0ezLm9EB7j45QGW7VyPGRvMvG8mYgAEJHslpeAALmxcwgMv7aX12BGU7pu0B7SNFKHaOm7b/iqxv7nhEXQOxzFiGig4gErB7c9so3LjtonzvhuxQfkhPQCpwSnKipLgyqW4xAA4Djg2ONb//wCYcTBiSbSCoy+mA1dioNLQ13pmbGOSbtC28FfOZEbTQvI8fy2mmYID2N//Dwc33EVPx29ZlVdKY+ULH9C8+/FCdy2mgYKH4JHhoazDB+A4NoPtrfgqYOpJo5juCu4B6xc1sOXwL5w53Tb1Iaxto5dVMHddC9FOGD1DLUqZK3PAeWtXkG5eMXVBNXowEu9xsJJu7FkUO1cCGO+DaCS3RCk9NHUhMe3JimjhKQmg8JQEUHhKAig8JQEUnnL9iqxjOWiBAOF6HaVBog9S/Qk0v5x0FtdzPYBawIce0Dj77l7MkSEW3PcE5XNrSQ0ZOd0zIkqD6wEM1/s59/5+2vbsAKD7u0+4+9CP6EENOy13rImJXJ8D6gGIX7mU2Y52nsM2Ru+CE+JarveAsUsWTQ/vItZ1DiM2SNMjz6L5bdLD0vuJ6+UdwAnzOTX6SymFETXxV85k3duHcCywTYhfTqF8CnXV6helIevvRe4BNE0TgEDov2u51fOhsjyIPbbqeXyRi/KBpkF4QfC6lVfhBRCqnZvZdixLVmeVoDyejBAH4Pe2n3l+xxYAOowQw/EU9jX3Ck/GX+Ej2tWV2VZ6QFZnlaCcA7hh01bee/N1Ir1XOPLRQVca4Q/XULt0GelhkLsyS0vOAXzu5dcIBIP8dPJ7HMdBKcXFEUhaFvbY8JwtpetUzJrHrVtfxFceJBGRm5VKTc5Pxxp3of0PhvojlFdU8sXZHjqr6jAGhrOvwLJwHEXt+jsJzIbB0wm0ANi64o1VwXyaBMjTsYpNXv3NZ/vfYf+eV4DRx20YiRhK6TjW5I/mmMBxMIdT9C5tZvuBY/humYVpWNTpciRSSvIKoKZpGKaF0jRs2yE1mKRqZg1pZaCy7U8dCIRDLG9s5N6mWWNvygyw1OQ9BP91voN4dAjlgBEI8enFKP2pEMpMZ9UJ2paN0jTqGhYTrKnBSqSxbYfGao2W+flPBGUILi55f9P1DU2Z1xFgZI6ibJjcLu4piCTAjKQBG4DuhFVQAEVxceWbrkrDHQNpBjQHPZ3jHE4DqgFHgVLcVC5zwFLiSgADAXiwye9GVaLEyBIV4SkJoPCUBFB4SgIoPCUBFJ6SAApPSQCFpySAwlMSQOGpfwFSF8SOqHwOlgAAAABJRU5ErkJggg==";

    let chartInstance = null
    // 初始化echart实例
    function initChart() {
        if (!chartInstance) {
            chartInstance = echarts.init(document.getElementById('topo'))
        }
        let option = generateOpts()
        // let option = generateOpts2()
        chartInstance.setOption(option)
    }

    // 返回图表的options
    function generateOpts() {
        let treeData = [
            {
                name: 'xxx台区',
                index: 1,
                children: [
                    { name: '设备1', index: 2, children: [{ name: '线路1', index: 3 }, { name: '线路2', index: 3 }, { name: '线路3', index: 3 }] },
                    { name: '设备2', index: 2, children: [{ name: '线路1', index: 3 }, { name: '线路2', index: 3 }, { name: '线路3', index: 3 }] },
                    { name: '设备3', index: 2, children: [{ name: '线路1', index: 3 }, { name: '线路2', index: 3 }, { name: '线路3', index: 3 }] },
                    { name: '设备4', index: 2, children: [{ name: '线路1', index: 3 }, { name: '线路2', index: 3 }, { name: '线路3', index: 3 }] },
                    { name: '设备5', index: 2, children: [{ name: '线路1', index: 3 }, { name: '线路2', index: 3 }, { name: '线路3', index: 3 }] },
                ]
            }
        ]
        return {
            tooltip: {
                trigger: 'item',
                backgroundColor: '#fff',
                textStyle: {
                    color: '#5c6c7c'
                },
                padding: [10, 10],
                extraCssText: 'box-shadow: 1px 0 2px 0 rgba(163,163,163,0.5)',
                formatter: function (params) {
                    let str = '名称：' + params.data.name
                    return str
                }
            },
            xAxis: {
                min: 0,
                max: 1000,
                show: false,
                type: 'value'
            },
            yAxis: {
                min: 0,
                max: 1000,
                show: false,
                type: 'value'
            },
            series: [{
                type: 'tree',
                initialTreeDepth: 1,// 初始展开的层级
                // expandAndCollapse: false, // 树节点展开折叠交互
                edgeShape: 'polyline', // 折线
                layout: 'orthogonal', // 正交布局
                orient: 'LR', // 方向
                roam: true,
                symbolSize: [160, 60],
                symbol: function (value, params) {
                    let symbolStr = "react"
                    if (params.data && params.data.index) {
                        switch (params.data.index) {
                            case 1:
                                symbolStr = `image://${pic1}`;
                                break;
                            case 2:
                                symbolStr = `image://${pic2}`;
                                break;
                            case 3:
                                symbolStr = `image://${pic3}`;
                                break;
                        }
                    }
                    return symbolStr
                },
                label: {
                    position: 'insideTop',
                    fontSize: 16,
                    textBorderColor: "inherit"
                },
                itemStyle: {
                    color: "#fff",
                    borderColor: "#f5f5f5",
                    borderWidth: 1
                },
                data: treeData
            }]
        }
    }

    // 实现2：返回图表的options
    function generateOpts2() {
        let treeData =
        {
            name: 'xxx台区',
            index: 0,
            children: [
                { name: '设备1', index: 1, children: [{ name: '设备1-线路1', index: 2 }, { name: '设备1-线路2', index: 2 }, { name: '设备1-线路3', index: 2 }] },
                { name: '设备2', index: 1, children: [{ name: '设备2-线路1', index: 2 }, { name: '设备2-线路2', index: 2 }, { name: '设备2-线路3', index: 2 }] },
                { name: '设备3', index: 1, children: [{ name: '设备3-线路1', index: 2 }, { name: '设备3-线路2', index: 2 }, { name: '设备3-线路3', index: 2 }] },
                { name: '设备4', index: 1, children: [{ name: '设备4-线路1', index: 2 }, { name: '设备4-线路2', index: 2 }, { name: '设备4-线路3', index: 2 }] },
                { name: '设备5', index: 1, children: [{ name: '设备5-线路1', index: 2 }, { name: '设备5-线路2', index: 2 }, { name: '设备5-线路3', index: 2 }] },
            ]
        }


        let retData = formatData(treeData)
        console.log('retData', retData)

        return {
            tooltip: {
                trigger: 'item',
                backgroundColor: '#fff',
                textStyle: {
                    color: '#5c6c7c'
                },
                padding: [10, 10],
                extraCssText: 'box-shadow: 1px 0 2px 0 rgba(163,163,163,0.5)',
                formatter: function (params) {
                    let str = '名称：' + params.data.name
                    return str
                }
            },
            series: [{
                type: 'graph',
                layout: 'force',
                // symbolSize: 58,
                draggable: false,
                roam: true,
                hoverAnimation: false,
                // edgeSymbol: ['', 'arrow'],
                edgeSymbolSize: [0, 15],
                focusNodeAdjacency: false,
                lineStyle: {
                    color: "#dcdcdc",
                    width: 2,
                },
                label: {
                    show: true,
                    position: 'bottom',
                    color: '#292F35',
                    fontSize: 18
                },
                symbol: "image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAgCAYAAABO6BuSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFMzhFMDM4REEwQUYxMUVBQkY1NEIzNTg4MTM4RjIxOCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFMzhFMDM4RUEwQUYxMUVBQkY1NEIzNTg4MTM4RjIxOCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkUzOEUwMzhCQTBBRjExRUFCRjU0QjM1ODgxMzhGMjE4IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkUzOEUwMzhDQTBBRjExRUFCRjU0QjM1ODgxMzhGMjE4Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+ZMccrwAACbZJREFUeNrkWUtvJFcV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",
                symbolSize: [60, 40],
                // symbol: 'react',
                // symbolSize: [80, 30],
                itemStyle: {
                    color: "cyan",
                    borderColor: "#dcdcdc",
                    borderWidth: 1
                },
                force: {
                    repulsion: 2000,
                    edgeLength: 120
                },
                data: retData.nodes,
                links: retData.links
            }]
        }
    }

    function formatData(data) {

        let nodes = [data]
        let links = []


        if (!data.children || !data.children.length) {
            return {
                nodes: nodes,
                links: links
            }
        }


        for (let i = 0; i < data.children.length; i++) {
            let link = {
                target: data.children[i].name,
                source: data.name
            }
            links.push(link)

            let ret = formatData(data.children[i])
            nodes = [...nodes, ...ret.nodes]
            links = [...links, ...ret.links]
        }
        return {
            nodes,
            links
        }

    }

    window.onload = function () {
        initChart()
    }
</script>