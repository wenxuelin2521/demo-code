# 需求
1. 用户进来，记录用户进入页面的开始时间
2. 用户在新标签打开页面，如果其他标签已经打开了页面，这时候的开始时间还是算第一次进入页面的时间
3. 用户关闭该网页的全部标签页时，需要记录关闭的结束时间，调用接口传数据给后台


# 思路
进入页面的时候，浏览器会调用`load`事件；浏览器关闭的时候会调用`beforeunload`事件

问题：
- 浏览器刷新的时候也会触发`beforeunload`事件。（sessionStorage存储标识判断）
- 如何知道用户在其他标签页也打开了网页。（localStorage计数器）
- 用户意外关掉电脑或者断电，这时候`beforeunload`是不会执行的，此时的数据是不正确的，应该抛弃。（localStorage里面存一个刷新时间，每30s更新一下，加载网站的时候，读取这个时间，如果当前时间和刷新时间相差大于1分钟，就说明数据断层，应该抛弃）

